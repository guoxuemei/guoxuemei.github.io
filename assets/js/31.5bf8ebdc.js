(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{314:function(t,e,a){"use strict";a.r(e);var n=a(10),s=Object(n.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"http-method"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http-method"}},[t._v("#")]),t._v(" HTTP Method")]),t._v(" "),e("h3",{attrs:{id:"get"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#get"}},[t._v("#")]),t._v(" get")]),t._v(" "),e("p",[t._v("因为不能指定请求体, 请求头里也就没有 content-type(表示请求体的编码类型)和 content-length(请求体的长度)字段\n参数以 a=b&c=d 形式拼接在 url?后面,参数要进行 urlencoded 编码,因为服务器以&作为分隔符来拆分参数,所以参数内容如有&+%等要编码后才能传递")]),t._v(" "),e("p",[t._v("get 常用于获取数据,不用于动作类操作")]),t._v(" "),e("h3",{attrs:{id:"post"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#post"}},[t._v("#")]),t._v(" post")]),t._v(" "),e("p",[t._v("多用于增删改等动作类操作\ncontent-type有三种")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("application/json")]),t._v(" "),e("p",[t._v("请求体以 json 格式传递 常用于移动端与服务端交互")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("{\n  name:'haha',\n  age:18\n}\n")])])])]),t._v(" "),e("li",[e("p",[t._v("application/x-www-form-urlencoded")]),t._v(" "),e("p",[t._v("文本类表单数据提交,参数和 get 请求的参数格式一致,只是作为请求体发送,不成为 url 后面拼接数据")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("name=%E5%93%88%E5%93%88&age=18\n")])])])]),t._v(" "),e("li",[e("p",[t._v("multipart/form-data")]),t._v(" "),e("p",[t._v("带有文件上传的表单,content-type 后面会拼接一个 boundary,作为分割参数的分隔符")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("Content-Type:multipart/form-data; boundary=----WebKitFormBoundaryhWUszMbD5FLImHNb\n")])])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('------WebKitFormBoundaryhWUszMbD5FLImHNb\nContent-Disposition: form-data; name="age"\n\n18\n------WebKitFormBoundaryhWUszMbD5FLImHNb\nContent-Disposition: form-data; name="filename"; filename="deal_filename.py"\nContent-Type: text/x-python-script\n\n\n------WebKitFormBoundaryhWUszMbD5FLImHNb--\n')])])]),e("p",[t._v("最后一行后面多了个 "),e("code",[t._v("--")]),t._v(" 作为结束标志")])])]),t._v(" "),e("h3",{attrs:{id:"content-type-express配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#content-type-express配置"}},[t._v("#")]),t._v(" content-type express配置")]),t._v(" "),e("p",[t._v("使用 express 做后台开发时,需要"),e("code",[t._v("中间件")]),t._v("处理特定 content-type")]),t._v(" "),e("ul",[e("li",[t._v("body-parser 配置处理application/json 和 application/x-www-form-urlencoded的数据")]),t._v(" "),e("li",[t._v("multer 配置处理multipart/form-data 数据")])]),t._v(" "),e("p",[t._v("如果纯文本表单的 enctype 设为了multipart/form-data,那么也需要配置 multer 中间件")]),t._v(" "),e("p",[t._v("multer 一般用作特定路由的中间件,而不作为全局的中间件,毕竟上传文件的接口还是少的")])])}),[],!1,null,null,null);e.default=s.exports}}]);